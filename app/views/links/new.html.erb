<h1>Add</h1>

<% if @link_submission.errors.any? %>
  <div class="error">
    <h3>Invalid input</h3>
    <p><%= @link_submission.errors.full_messages.to_sentence %></p>
  </div>
<% end %>

<%= form_for @link_submission, url: links_path(@link_submission), html: { class: "pure-form pure-form-aligned" } do |f| %>
  <div class="pure-control-group">
    <%= f.label :title %>
    <%= f.text_field :title, class: "pure-input-1-2" %>
  </div>

  <div class="pure-control-group">
    <%= f.label :url %>
    <%= f.text_field :url, { autofocus: true, class: "pure-input-2-3" } %>
  </div>

  <div class="pure-control-group">
    <%= f.label :tags %>
    <%= f.text_field :tags, { class: "pure-input-2-3" } %>
  </div>

  <div class="pure-controls">
    <%= f.fields_for :link_interactions do |li| %>
      <% @link_submission.interactions.each do |interaction| %>
        <label for=<%= "link_link_interactions_#{interaction.id}" %> class="pure-checkbox">
          <%= li.check_box interaction.id, checked: @link_submission.link_interactions.any? { |li| li.interaction.id == interaction.id} %> <%= interaction.name %>
        </label>
      <% end %>
    <% end %>
  </div>

  <div class="pure-controls">
    <%= f.submit 'Add', class: "pure-button pure-button-primary pure-input-1-4" %>
  </div>
<% end %>
